// src/data/districts.ts

// --- Imports: SVG COA ---
import imgOltrarno from '../assets/CoatOfArms/oltrarno.svg';
import imgBorgo from '../assets/CoatOfArms/borgo.svg';
import imgSanPiero from '../assets/CoatOfArms/san_piero.svg';
import imgDuomo from '../assets/CoatOfArms/duomo.svg';
import imgSanPancrazio from '../assets/CoatOfArms/san_pancrazio.svg';
import imgPortaPiero from '../assets/CoatOfArms/porta_piero.svg';

// --- Constants: Historical Colors ---
export const DISTRICT_COLORS = {
    // Pre-1343: Sesti (Muted/Earthy Tones)
    OLTRARNO: '#8d6e63',
    SAN_PIERO: '#ffcc80',     
    BORGO: '#90a4ae',         
    SAN_PANCRAZIO: '#ef9a9a', 
    DUOMO: '#a5d6a7',         
    PORTA_PIERO: '#ce93d8',

    // Post-1343: Quartieri (Vibrant Colors)
    SANTO_SPIRITO: '#9e9e9e', 
    SANTA_CROCE: '#1e88e5',
    SMN: '#e53935',
    SAN_GIOVANNI: '#43a047'
};

// --- Interfaces ---
export interface DistrictPolygon {
    id: string;
    name: string;
    color: string;
    points: [number, number][] | [number, number][][];
    // New fields for the info panel
    mainSymbol?: string;      // The main symbol of the Sesto/Quartiere
    description?: string;     // Historical description
    gonfaloni?: string[];     // List of the smaller flags (Companies) inside it
    img?: string;               // Coat of Arms image
}

// --- Geometry Data ---

// Oltrarno Polygon (Verified Data)
const SHAPE_OLTRARNO: [number, number][] = [
    [43.77148029397654, 11.24261516498899],
    [43.76972536417415, 11.246962882740121],
    [43.768646620300785, 11.25010661711255],
    [43.76764836237001, 11.253138871543399],
    [43.76558737568266, 11.258489922401537],
    [43.764955070480994, 11.264382033175394],
    [43.76443864376529, 11.264272019685393],
    [43.76422015419729, 11.261329158822434],
    [43.76277015775332, 11.257478686666019],
    [43.762909200031885, 11.25497587976389],
    [43.761466483871345, 11.251106627296963],
    [43.76045936260738, 11.244599159331841],
    [43.76086221314759, 11.242182099801909],
    [43.76113077866722, 11.241763762576],
    [43.76677037609352, 11.24088060620906],
    [43.76810201213058, 11.239132942631187],
    [43.77225516059934, 11.241210137713182],
    [43.77148634560541, 11.242637476483594]
];

// 2. Shape: Borgo (Verified from your GeoJSON)
const SHAPE_BORGO: [number, number][] = [
    [43.76844103821958, 11.253456828275347],
    [43.76961794340056, 11.254382056343303],
    [43.77021251690027, 11.25443298632922],
    [43.77029220155987, 11.251428117190159],
    [43.77116133356208, 11.24956568104659],
    [43.77114453709967, 11.249376472040325],
    [43.771650983530094, 11.249268857994139],
    [43.77436504690124, 11.243007832745917], 
    [43.77333882430804, 11.241631239131294],
    [43.7694716719956, 11.250682745922404],
    [43.76844820893521, 11.25346589020944]
];

// 3. Shape: San Piero Scheraggio (New!)
const SHAPE_SAN_PIERO_SCHERAGGIO: [number, number][] = [
    [43.7684340275203, 11.253491053957987],
    [43.76776399331865, 11.25508273727786],
    [43.76733038517179, 11.25659173471223],
    [43.76686824671222, 11.25900929081186],
    [43.7661825770445, 11.26798172210269],
    [43.766794115668404, 11.268581604266558],
    [43.76856326859922, 11.269634442843113],
    [43.769439775649715, 11.26543204209301],
    [43.77022323356371, 11.261530238488433],
    [43.770612421788144, 11.257850338599809],
    [43.77031451230002, 11.257739049689121],
    [43.77007695351358, 11.257426524355907],
    [43.77020230728266, 11.256868439522862],
    [43.770218172407596, 11.255286584723734],
    [43.77152194198101, 11.255326748644535],
    [43.771504321667436, 11.254442199959726],
    [43.770209214383414, 11.254454400630664],
    [43.76961545660342, 11.254402462157344],
    [43.76841966125647, 11.25348961035283]
];

// 4. Shape: Porta del Duomo
const SHAPE_DUOMO: [number, number][] = [
    [43.7832579932568, 11.262417966347925],
    [43.7792688335482, 11.259324439158348],
    [43.77671624098252, 11.257306468653098],
    [43.7748048231567, 11.255875132099817],
    [43.77410469591263, 11.257845139464507],
    [43.773560146833404, 11.25726029352802],
    [43.77321563363074, 11.257629669909306],
    [43.77261550911848, 11.257829748781802],
    [43.77217827340229, 11.257879489293117],
    [43.77148974298714, 11.257920896055566],
    [43.7715054539793, 11.255371968562713],
    [43.77151841868189, 11.253594516745608],
    [43.77220346322949, 11.253561440829486],
    [43.77275337041564, 11.25364160363236],
    [43.772782312759375, 11.252799894210312],
    [43.77345763012917, 11.252746452341711],
    [43.7734286881128, 11.252145231326807],
    [43.77399787853503, 11.251116475367667],
    [43.774740712123446, 11.250181242677854],
    [43.77780267552464, 11.248869063395546],
    [43.78005655324159, 11.24834878828301],
    [43.78086148897901, 11.251371338937275],
    [43.78095092561415, 11.251965939066736],
    [43.78189894572205, 11.25285783925952],
    [43.783715050580724, 11.261118781744074],
    [43.783251691499004, 11.262418922982533]
];

// 5. Shape: porta San Piero 
const SHAPE_PORTA_PIERO: [number, number][] = [
    [43.7714995575075, 11.255350385130498],
    [43.77023577842712, 11.255309779216162],
    [43.770221117260206, 11.256869046328376],
    [43.77009209777407, 11.257425343401621],
    [43.77032081206198, 11.257721766575827],
    [43.77064335636581, 11.257851705502333],
    [43.77025035519367, 11.26153112593687],
    [43.769682456416774, 11.264337865674463],
    [43.768599918382336, 11.26963756165543],
    [43.770487137277655, 11.270640693179729],
    [43.77079326864208, 11.270675066469977],
    [43.77110767219622, 11.270846932922495],
    [43.77368075663685, 11.271007335986383],
    [43.7744170847059, 11.270732349661813],
    [43.776568101031216, 11.268681418802544],
    [43.77725475613579, 11.267764797721071],
    [43.777949676164894, 11.267329402708214],
    [43.77848740661713, 11.267054413048498],
    [43.783227495880936, 11.262459847259237],
    [43.77482367780499, 11.255950077042485],
    [43.77413699478436, 11.257920812365086],
    [43.773566131813084, 11.257302093135479],
    [43.77320900239445, 11.257695076559742],
    [43.772596762829096, 11.25788985853822],
    [43.771479823150685, 11.257958605119995],
    [43.77149164717457, 11.255360420281221]
];

// 6. Shape: Sesto di San Pancrazio 
const SHAPE_SAN_PANCRAZIO: [number, number][] = [
    [43.77024488541946, 11.254385173729304],
    [43.77147620562826, 11.254422142072201],
    [43.771502900636136, 11.253567249151473],
    [43.772203244747146, 11.253521635709177],
    [43.77270155337925, 11.253534297898426],
    [43.772738126326715, 11.252787228700754],
    [43.7734284365074, 11.252704924468105],
    [43.77341015024757, 11.252103470452056],
    [43.77395807856132, 11.25111968797438],
    [43.77471439932316, 11.25015109321373],
    [43.77781452635767, 11.248827995602056],
    [43.780057469981216, 11.248296362224636],
    [43.77969571774872, 11.247122537752972],
    [43.77968424507196, 11.245152176248837],
    [43.77805022807499, 11.240043986507487],
    [43.77445524686672, 11.242889057356479],
    [43.773713639936204, 11.244598026271916],
    [43.771910929031606, 11.24875545956732],
    [43.77166348333256, 11.24930540338363],
    [43.77117927286167, 11.249418881712415],
    [43.77118672228289, 11.249563308674738],
    [43.7703300327218, 11.251461491619239],
    [43.770239269125966, 11.254392908753431]
];
// 7. SANTA CROCE 
const SHAPE_SANTA_CROCE: [number, number][] = [
    [43.77089054570962, 11.254430763128966],
    [43.770860598058505, 11.25611730374635],
    [43.77095044096748, 11.25633157734893],
    [43.77089054570962, 11.256856893279064],
    [43.77091051080242, 11.257907525139359],
    [43.77087058061073, 11.258736971344831],
    [43.77088708071361, 11.261015672377482],
    [43.769732381472096, 11.266927972435042],
    [43.76916336494503, 11.270024559443414],
    [43.766754986256416, 11.268564183159896],
    [43.76685417439313, 11.262458138111953],
    [43.7666227026877, 11.262453204836902],
    [43.76674079619693, 11.26056355267886],
    [43.76684759561195, 11.259061743092246],
    [43.767520067227224, 11.255868412106736],
    [43.76781377870478, 11.254976856482216],
    [43.7680204380776, 11.254654343734472],
    [43.76846983774263, 11.25348239600092],
    [43.76961632625742, 11.254373944015327],
    [43.77089034087794, 11.254433314442167]
];

// 8. SAN GIOVANNI 
const SHAPE_SAN_GIOVANNI: [number, number][] = [
    [43.77092858859467, 11.254420456171943],
    [43.7715268657673, 11.254420456171943],
    [43.771512952412905, 11.253514869854058],
    [43.77220465848748, 11.253549869797837],
    [43.77219297577861, 11.252782990586496],
    [43.772280239108284, 11.251351295075608],
    [43.772650316468884, 11.251372551112723],
    [43.772871302627294, 11.251451818448515],
    [43.77341921909135, 11.252213529013204],
    [43.77394724638981, 11.251260849838303],
    [43.77465295541151, 11.252325743152824],
    [43.77474551650104, 11.252351963686095],
    [43.775477583479386, 11.251734327061172],
    [43.77568215424398, 11.252263804286514],
    [43.77628799562109, 11.251905457000618],
    [43.77645984905658, 11.251823881987036],
    [43.77686373873698, 11.251590810581291],
    [43.779007352607294, 11.25036608059608],
    [43.78012607890483, 11.249780190499052],
    [43.78033793613787, 11.249859022838223],
    [43.78051780251806, 11.250171472135406],
    [43.78079524412024, 11.251713894899837],
    [43.781780814236186, 11.25284087611891],
    [43.78372889900962, 11.261185401077],
    [43.783229647130895, 11.262487091666685],
    [43.778145608999665, 11.267356888693001],
    [43.77726796742081, 11.267639567861096],
    [43.77673729417049, 11.268261462030836],
    [43.77647195577924, 11.26891162411846],
    [43.77449208603662, 11.27063596692065],
    [43.77371644907777, 11.271088253589966],
    [43.77104246559841, 11.270862110255308],
    [43.77071207729165, 11.270673767441735],
    [43.770337804988316, 11.270673767441735],
    [43.76921497402682, 11.270003027199692],
    [43.76977639214246, 11.266725546473197],
    [43.77027187482858, 11.264248697260115],
    [43.77070742736183, 11.262006300578804],
    [43.77090061519138, 11.261023729899648],
    [43.77089007770127, 11.25876674061476],
    [43.770925904974774, 11.257899936811953],
    [43.77090483000234, 11.256858997788726],
    [43.77096805489765, 11.256314207271316],
    [43.77088663489576, 11.256096838860373],
    [43.77092472272247, 11.254422674784252]
];

// 9. SANTA MARIA NOVELLA 
const SHAPE_SANTA_MARIA_NOVELLA: [number, number][] = [
    [43.77463391149007, 11.241766944021464],
    [43.7741617058046, 11.242450825436379],
    [43.77348579706023, 11.241651539032148],
    [43.772072228185834, 11.244904249740841],
    [43.7708118085271, 11.247788832900625],
    [43.769499618171864, 11.250654373073559],
    [43.76848721827287, 11.253462557518162],
    [43.76962328910395, 11.254353363194383],
    [43.77091027250563, 11.254408929233705],
    [43.77150287596757, 11.254404654975048],
    [43.77150287596757, 11.25350278635841],
    [43.77218242851859, 11.253533039959905],
    [43.77217625566584, 11.252785044661408],
    [43.772262675540645, 11.251331796653801],
    [43.77265269079243, 11.251338918869209],
    [43.77289342964323, 11.251424404046077],
    [43.77341811352389, 11.252185222120545],
    [43.77394991525588, 11.251236118433411],
    [43.77465668174497, 11.25229613462784],
    [43.77472458026958, 11.252321780180665],
    [43.77547650424404, 11.251705530289911],
    [43.77568945552875, 11.25222271560969],
    [43.776327013742275, 11.251868279390465],
    [43.77688252934064, 11.251556258495498],
    [43.7781696360253, 11.250827483510704],
    [43.77940654812835, 11.250128756735563],
    [43.78014081178429, 11.249740500791717],
    [43.78014207376668, 11.249737924210336],
    [43.78019515707251, 11.249379901070029],
    [43.780188233165546, 11.24918170968894],
    [43.7802643960959, 11.248986714941452],
    [43.77975152614633, 11.247244990638876],
    [43.77967320719145, 11.245550081014557],
    [43.77890959200798, 11.242811107062295],
    [43.7781144894231, 11.240530803153803],
    [43.77772288290288, 11.240232499056857],
    [43.77660679024834, 11.238944367746598],
    [43.77461931052497, 11.24177825663648]
];

// --- Exported Data Sets ---

// Dataset 1: The 6 Sesti (1172 - 1343)
export const SESTI_DATA: DistrictPolygon[] = [
    {
        id: 'sesto_oltrarno',
        name: "Sesto d'Oltrarno",
        color: DISTRICT_COLORS.OLTRARNO,
        points: SHAPE_OLTRARNO,
        mainSymbol: "The Bridge (Il Ponte)",
        img: imgOltrarno,
        description: "Historically separated from the main city by the Arno, this district was known for its wool workers and artisans. It was the last sesto to be enclosed by walls.",
        gonfaloni: ["Scala (Ladder)", "Nicchio (Shell)", "Ferza (Whip)", "Drago Verde (Green Dragon)"]
    },
    {
        id: 'sesto_borgo',
        name: "Sesto di Borgo",
        color: DISTRICT_COLORS.BORGO,
        points: SHAPE_BORGO,
        mainSymbol: "The Goat (Il Becco) or Viper",
        img: imgBorgo,
        description: "Centered around Borgo Santi Apostoli, this was an ancient and dense commercial area along the river.",
        gonfaloni: ["Vipera (Viper)", "Cavallo (Unbridled Horse)", "Aquila Nera (Black Eagle)"]
    },
    {
        id: 'sesto_san_piero',
        name: "Sesto di San Piero Scheraggio",
        color: DISTRICT_COLORS.SAN_PIERO,
        points: SHAPE_SAN_PIERO_SCHERAGGIO,
        mainSymbol: "The Carroccio (War Chariot)",
        img: imgSanPiero,
        description: "The political heart of old Florence, home to the Priors before Palazzo Vecchio was built. Named after the church of San Piero Scheraggio.",
        gonfaloni: ["Carroccio (Chariot)", "Bue (Ox)", "Leone Nero (Black Lion)", "Ruote (Wheels)"]
    },
    {
        id: 'sesto_duomo',
        name: "Sesto di Porta del Duomo",
        color: DISTRICT_COLORS.DUOMO,
        points: SHAPE_DUOMO,
        mainSymbol: "The Baptistery",
        img: imgDuomo,
        description: "The religious center containing the Cathedral and the Baptistery of San Giovanni.",
        gonfaloni: ["Leone d'Oro (Golden Lion)", "Drago Verde (Green Dragon)", "Leone Azzurro (Blue Lion)"]
    },
    // Placeholders with placeholders descriptions
    {
        id: 'sesto_san_pancrazio',
        name: "Sesto di San Pancrazio",
        color: DISTRICT_COLORS.SAN_PANCRAZIO,
        points: SHAPE_SAN_PANCRAZIO,
        mainSymbol: "Lion's Paw",
        img: imgSanPancrazio,
        gonfaloni: ["Leone Naturale", "Leone Rosso", "Leone Bianco"]
    },
    {
        id: 'sesto_porta_piero',
        name: "Sesto di Porta San Piero",
        color: DISTRICT_COLORS.PORTA_PIERO,
        points: SHAPE_PORTA_PIERO,
        mainSymbol: "Keys",
        img: imgPortaPiero,
        gonfaloni: ["Chiavi (Keys)", "Vaio", "Ruote"]
    }
];

// Dataset 2: The 4 Quartieri (1343 - 1500+)
export const QUARTIERI_DATA: DistrictPolygon[] = [
    {
        id: 'q_spirito',
        name: "Santo Spirito",
        color: DISTRICT_COLORS.SANTO_SPIRITO,
        points: SHAPE_OLTRARNO, // Maps to same geometry as old Oltrarno
        mainSymbol: "White Dove (Colomba Bianca)",
        description: "The only quartiere south of the river. Its banner features the descent of the Holy Spirit (a white dove) on a blue field.",
        gonfaloni: ["Scala", "Nicchio", "Ferza", "Drago"]
    },
    // Placeholders for remaining Quartieri
    {
        id: 'q_giovanni',
        name: "San Giovanni",
        color: DISTRICT_COLORS.SAN_GIOVANNI,
        points: SHAPE_SAN_GIOVANNI,
        mainSymbol: "The Baptistery",
        description: "Named after the patron saint of Florence. Its banner shows the Baptistery on a blue field.",
        gonfaloni: ["Chiavi", "Vaio", "Drago", "Leone d'Oro"]
    },
    {
        id: 'q_croce',
        name: "Santa Croce",
        color: DISTRICT_COLORS.SANTA_CROCE,
        points: SHAPE_SANTA_CROCE,
        mainSymbol: "Gold Cross",
        description: "The eastern quarter, home to the Franciscans. Its banner is a golden cross on a blue field.",
        gonfaloni: ["Carro", "Bue", "Leone Nero", "Ruote"]
    },
    {
        id: 'q_smn',
        name: "Santa Maria Novella",
        color: DISTRICT_COLORS.SMN,
        points: SHAPE_SANTA_MARIA_NOVELLA,
        mainSymbol: "Golden Sun",
        description: "The western quarter, home to the Dominicans. Its banner is a golden sun on a blue field.",
        gonfaloni: ["Vipera", "Unicorno", "Leone Rosso", "Leone Bianco"]
    }
];